(function(e){function t(t){for(var o,i,s=t[0],c=t[1],l=t[2],u=0,h=[];u<s.length;u++)i=s[u],Object.prototype.hasOwnProperty.call(n,i)&&n[i]&&h.push(n[i][0]),n[i]=0;for(o in c)Object.prototype.hasOwnProperty.call(c,o)&&(e[o]=c[o]);d&&d(t);while(h.length)h.shift()();return r.push.apply(r,l||[]),a()}function a(){for(var e,t=0;t<r.length;t++){for(var a=r[t],o=!0,s=1;s<a.length;s++){var c=a[s];0!==n[c]&&(o=!1)}o&&(r.splice(t--,1),e=i(i.s=a[0]))}return e}var o={},n={app:0},r=[];function i(t){if(o[t])return o[t].exports;var a=o[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=e,i.c=o,i.d=function(e,t,a){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)i.d(a,o,function(t){return e[t]}.bind(null,o));return a},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=t,s=s.slice();for(var l=0;l<s.length;l++)t(s[l]);var d=c;r.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"034f":function(e,t,a){"use strict";a("85ec")},"07d0":function(e,t,a){},"0f36":function(e,t,a){"use strict";a("07d0")},1022:function(e,t,a){"use strict";a("364b")},"364b":function(e,t,a){},"56d7":function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d");var o=a("2b0e"),n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-app",[a("v-container",{attrs:{fluid:""}},[a("router-link",{staticClass:"menuelement px-3",attrs:{to:"/"}},[e._v("Kategóriák")]),a("router-link",{staticClass:"menuelement px-3",attrs:{to:"/people"}},[e._v("Címzettek")])],1),a("v-main",[a("router-view")],1)],1)},r=[],i=(a("034f"),a("2877")),s=a("6544"),c=a.n(s),l=a("7496"),d=a("a523"),u=a("f6c4"),h={},g=Object(i["a"])(h,n,r,!1,null,null,null),p=g.exports;c()(g,{VApp:l["a"],VContainer:d["a"],VMain:u["a"]});var m=a("f309");o["a"].use(m["a"]);var f=new m["a"]({}),v=a("8c4f"),_=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.loading?a("v-container",{staticClass:"col-12 mx-auto text-center px-2 pt-15",attrs:{fluid:""}},[a("v-progress-circular",{attrs:{indeterminate:""}})],1):a("v-container",{staticClass:"col-12 col-sm-10 col-md-8 col-lg-6 col-xl-4 mx-auto text-center px-10 pt-5",attrs:{fluid:""}},[a("CategoryEditor",{attrs:{edit:!1},on:{addToCategories_:e.addToCategories}}),e.categories.length>0?a("v-simple-table",{staticClass:"mt-5 blue-grey lighten-4 table"},[a("thead",{staticClass:"blue-grey lighten-2 font-weight-bold"},[a("tr",[a("td",[e._v("#")]),a("td",[e._v("Kategória név")]),a("td",[e._v("Műveletek")])])]),a("tbody",e._l(e.categories,(function(t){return a("tr",{key:t.id},[a("td",[e._v(e._s(t.id))]),a("td",[e._v(e._s(t.name))]),a("td",[a("CategoryEditor",{attrs:{edit:!0,toedit:t},on:{updateCategory_:e.updateCategory}}),a("v-btn",{attrs:{icon:"",color:"red"},on:{click:function(a){return e.deleteCategory(t.id)}}},[a("v-icon",[e._v("mdi-delete-outline")])],1)],1)])})),0)]):e._e()],1)},b=[],y=a("3835"),C=(a("99af"),a("4de4"),a("159b"),a("4fad"),a("bc3a")),x=a.n(C),P=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-dialog",{attrs:{"max-width":"480"},scopedSlots:e._u([{key:"activator",fn:function(t){var o=t.on,n=t.attrs;return[e.edit?a("v-btn",e._g(e._b({attrs:{icon:"",color:"blue"}},"v-btn",n,!1),o),[a("v-icon",[e._v("mdi-pencil-outline")])],1):a("v-btn",e._g(e._b({attrs:{dense:"",color:"success"}},"v-btn",n,!1),o),[e._v(" Kategória hozzáadás ")])]}},{key:"default",fn:function(t){return[a("v-card",[a("v-card-title",{staticClass:"text-center"},[e._v(" Kategória "+e._s(e.edit?"módosítás":"hozzáadás")+" ")]),a("v-card-text",[a("v-form",{staticClass:"col-12"},[a("v-text-field",{attrs:{solo:"",dense:"",required:"",label:"Név","error-messages":e.errors.name},on:{keyup:function(t){e.errors.name=""}},model:{value:e.category.name,callback:function(t){e.$set(e.category,"name",t)},expression:"category.name"}})],1)],1),a("v-card-actions",[a("v-btn",{attrs:{width:"33%",loading:e.loading,color:"success",rounded:""},on:{click:function(t){return e.submitForm()}}},[e._v(" "+e._s(e.edit?"Módosít":"Hozzáad")+" ")]),a("v-spacer"),a("v-btn",{attrs:{width:"33%",color:"primary",rounded:""},on:{click:function(e){t.value=!1}}},[e._v("Vissza")])],1)],1)]}}]),model:{value:e.dialogEx,callback:function(t){e.dialogEx=t},expression:"dialogEx"}})},k=[],z=(a("b0c0"),{props:["toedit","edit"],created:function(){1==this.edit&&(this.category=Object.assign({},this.toedit))},data:function(){return{category:{id:"",name:""},loading:!1,dialogEx:!1,errors:{name:""}}},methods:{submitForm:function(){this.category.name.length?(this.loading=!0,this.edit?this.updateCategory():this.addCategory()):this.errors.name="A név mező kitöltése kötelező!"},addCategory:function(){var e=this;x.a.post("".concat("http://localhost:8000/api","/category"),{name:this.category.name}).then((function(t){201==t.status&&(e.loading=!1,e.dialogEx=!1,e.$emit("addToCategories_",t.data),e.category={id:"",name:""})})).catch((function(){e.loading=!1,alert("Szerver oldali hiba.")}))},updateCategory:function(){var e=this;x.a.put("".concat("http://localhost:8000/api","/category/").concat(this.category.id),{name:this.category.name}).then((function(t){200==t.status&&(e.loading=!1,e.dialogEx=!1,e.$emit("updateCategory_",t.data),e.category={id:"",name:""})})).catch((function(){e.loading=!1,alert("Szerver oldali hiba.")}))}}}),w=z,V=a("8336"),E=a("b0af"),S=a("99d9"),O=a("169a"),T=a("4bd4"),j=a("132d"),$=a("2fa4"),N=a("8654"),M=Object(i["a"])(w,P,k,!1,null,null,null),I=M.exports;c()(M,{VBtn:V["a"],VCard:E["a"],VCardActions:S["a"],VCardText:S["b"],VCardTitle:S["c"],VDialog:O["a"],VForm:T["a"],VIcon:j["a"],VSpacer:$["a"],VTextField:N["a"]});var A={components:{CategoryEditor:I},data:function(){return{categories:[],loading:!1}},created:function(){this.fetchInfo()},methods:{fetchInfo:function(){var e=this;this.loading=!0,this.categories=[],x.a.get("".concat("http://localhost:8000/api","/category")).then((function(t){e.categories=t.data,e.loading=!1})).catch((function(e){return alert(e)}))},deleteCategory:function(e){var t=this;x.a.delete("".concat("http://localhost:8000/api","/category/").concat(e)).then((function(a){200==a.status&&(t.categories=t.categories.filter((function(t){return t.id!=e})))})).catch((function(e){return alert(e)}))},addToCategories:function(e){this.categories.push(e),this.refreshCategories(this.categories),console.log(this.category)},updateCategory:function(e){var t=this;this.categories.forEach((function(a){if(a.id!=e.id);else for(var o=0,n=Object.entries(e);o<n.length;o++){var r=Object(y["a"])(n[o],2),i=r[0],s=r[1];t.$set(a,i,s)}}))},refreshCategories:function(e){var t=this;this.categories=[],e.forEach((function(e){t.categories.push(e)}))}}},F=A,K=(a("93a0"),a("490a")),B=a("1f4f"),q=Object(i["a"])(F,_,b,!1,null,"540632e6",null),D=q.exports;c()(q,{VBtn:V["a"],VContainer:d["a"],VIcon:j["a"],VProgressCircular:K["a"],VSimpleTable:B["a"]});var J=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.loading?a("v-container",{staticClass:"col-12 mx-auto text-center px-2 pt-15",attrs:{fluid:""}},[a("v-progress-circular",{attrs:{indeterminate:""}})],1):a("v-container",{staticClass:"col-12 mx-auto text-center px-2 pt-5",attrs:{fluid:""}},[a("PersonEditor",{attrs:{edit:!1,availableCategories:e.categories},on:{addToPeople_:e.addToPeople}}),a("v-container",{staticClass:"tablewrapper"},[e.people.length>0?a("v-simple-table",{staticClass:"blue-grey lighten-4 mt-5",attrs:{dense:""}},[a("thead",{staticClass:"blue-grey lighten-2 font-weight-bold"},[a("tr",[a("td",{staticClass:"identifier"},[e._v(" # "),a("v-btn",{attrs:{color:"white",icon:"","x-small":""},on:{click:function(t){return e.reSort("id")}}},[a("v-icon",[e._v(" "+e._s(e.sort.id?"mdi-chevron-down":"mdi-chevron-up")+" ")])],1)],1),a("td",{staticClass:"name"},[e._v(" Név "),a("v-btn",{attrs:{color:"white",icon:"","x-small":""},on:{click:function(t){return e.reSort("name")}}},[a("v-icon",[e._v(" "+e._s(e.sort.name?"mdi-chevron-down":"mdi-chevron-up")+" ")])],1)],1),a("td",{staticClass:"email"},[e._v(" Email "),a("v-btn",{attrs:{color:"white",icon:"","x-small":""},on:{click:function(t){return e.reSort("email")}}},[a("v-icon",[e._v(" "+e._s(e.sort.email?"mdi-chevron-down":"mdi-chevron-up")+" ")])],1)],1),a("td",{staticClass:"phone"},[e._v(" Telefon "),a("v-btn",{attrs:{color:"white",icon:"","x-small":""},on:{click:function(t){return e.reSort("phone_number")}}},[a("v-icon",[e._v(" "+e._s(e.sort.phone_number?"mdi-chevron-down":"mdi-chevron-up")+" ")])],1)],1),a("td",{staticClass:"categories"},[e._v(" Kategória "),a("v-btn",{attrs:{color:"white",icon:"","x-small":""},on:{click:function(t){return e.reSort("categories")}}},[a("v-icon",[e._v(" "+e._s(e.sort.categories?"mdi-chevron-down":"mdi-chevron-up")+" ")])],1)],1),a("td",{staticClass:"date"},[e._v(" Dátum "),a("v-btn",{attrs:{color:"white",icon:"","x-small":""},on:{click:function(t){return e.reSort("created_date")}}},[a("v-icon",[e._v(" "+e._s(e.sort.created_date?"mdi-chevron-down":"mdi-chevron-up")+" ")])],1)],1),a("td",{staticClass:"actions"},[e._v("Műveletek")])])]),a("tbody",e._l(e.people,(function(t){return a("tr",{directives:[{name:"show",rawName:"v-show",value:t.page==e.page,expression:"person.page == page"}],key:t.id},[a("td",{staticClass:"identifier"},[e._v(e._s(t.id))]),a("td",{key:t.name,staticClass:"name"},[e._v(e._s(t.name))]),a("td",{staticClass:"email"},[e._v(e._s(t.email))]),a("td",{staticClass:"phone"},[e._v(" "+e._s(t.phone_number.length?t.phone_number:"Nincs megadva")+" ")]),a("td",{staticClass:"categories"},[e._l(t.categories,(function(t){return a("span",{key:t.id},[e._v(" "+e._s(t.name)+" ")])})),t.categories.length?e._e():a("span",{staticClass:"red--text"},[e._v(" Besorolatlan ")])],2),a("td",{staticClass:"date"},[e._v(e._s(t.created_date))]),a("td",{staticClass:"actions"},[a("PersonEditor",{attrs:{edit:!0,person:t,availableCategories:e.categories},on:{updatePerson_:e.updatePerson}}),a("v-btn",{attrs:{icon:"",color:"red"},on:{click:function(a){return e.deletePerson(t.id)}}},[a("v-icon",[e._v("mdi-delete-outline")])],1)],1)])})),0)]):e._e()],1),e.countPages>1?a("v-pagination",{attrs:{length:e.countPages},model:{value:e.page,callback:function(t){e.page=t},expression:"page"}}):e._e()],1)},H=[],R=(a("4e827"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-dialog",{attrs:{"max-width":"480"},scopedSlots:e._u([{key:"activator",fn:function(t){var o=t.on,n=t.attrs;return[1==e.edit?a("v-btn",e._g(e._b({attrs:{icon:"",color:"blue"},on:{click:function(t){return e.getCategorieNames()}}},"v-btn",n,!1),o),[a("v-icon",[e._v("mdi-pencil-outline")])],1):a("v-btn",e._g(e._b({attrs:{color:"success"},on:{click:function(t){return e.getCategorieNames()}}},"v-btn",n,!1),o),[e._v(" Címzett hozzáadás ")])]}}]),model:{value:e.dialogEx,callback:function(t){e.dialogEx=t},expression:"dialogEx"}},[[a("v-card",[a("v-card-title",{staticClass:"text-center"},[e._v(" Címzett "+e._s(e.edit?"módosítása":"hozzáadása")+" ")]),a("v-card-text",[a("v-form",{staticClass:"col-12"},[a("v-text-field",{attrs:{outlined:"",dense:"",required:"",label:"Név","error-messages":e.errors.name},on:{keyup:function(t){e.errors.name=""}},model:{value:e.loadedPerson.name,callback:function(t){e.$set(e.loadedPerson,"name",t)},expression:"loadedPerson.name"}}),a("v-text-field",{attrs:{outlined:"",dense:"",required:"",label:"Email cím","error-messages":e.errors.email},on:{keyup:function(t){e.errors.email=""}},model:{value:e.loadedPerson.email,callback:function(t){e.$set(e.loadedPerson,"email",t)},expression:"loadedPerson.email"}}),a("v-text-field",{attrs:{outlined:"",dense:"",required:"",label:"Telefonszám","error-messages":e.errors.phone_number,hint:"Formátum: 36xx1112222"},on:{keyup:function(t){e.errors.phone_number=""}},model:{value:e.loadedPerson.phone_number,callback:function(t){e.$set(e.loadedPerson,"phone_number",t)},expression:"loadedPerson.phone_number"}}),a("v-row",[a("v-col",[a("v-select",{attrs:{disabled:!e.categoryNames.length,label:"Kategória hozzáadás",items:e.categoryNames,outlined:"",dense:"","error-messages":e.errors.categories,"append-icon":e.nextCategory.length?"mdi-plus":""},on:{"click:append":function(t){return e.addCategory()},click:function(t){e.errors.categories=""}},model:{value:e.nextCategory,callback:function(t){e.nextCategory=t},expression:"nextCategory"}})],1),a("v-col")],1),e.categoryNames.length?e._e():a("span",{staticClass:"blue--text"},[e._v(" Jelenleg nem tudsz címzettet hozzáadni, mert nincs kategória létrehozva. ")]),e._l(e.loadedPerson.categories,(function(t){return a("span",{key:t.id,staticClass:"categoryblock"},[e._v(" "+e._s(t.name)+" "),a("v-btn",{attrs:{icon:""},on:{click:function(a){return e.deleteCategory(t)}}},[a("v-icon",[e._v("mdi-delete-outline")])],1)],1)}))],2)],1),a("v-card-actions",[a("v-btn",{attrs:{width:"33%",loading:e.loading,color:"success",rounded:"",disabled:!e.categoryNames.length},on:{click:function(t){return e.submitForm()}}},[e._v(" "+e._s(1==e.edit?"Módosít":"Hozzáad")+" ")]),a("v-spacer"),a("v-btn",{attrs:{width:"33%",color:"primary",rounded:""},on:{click:function(t){e.dialogEx=!1}}},[e._v("Vissza")])],1)],1)]],2)}),G=[],L={props:["person","availableCategories","edit"],data:function(){return{nextCategory:"",loadedPerson:{name:"",email:"",phone_number:"",created_date:"",categories:[]},errors:{name:"",email:"",phone_number:"",categories:""},categories:[],loading:!1,dialogEx:!1,categoryNames:[]}},created:function(){1==this.edit&&(this.loadedPerson=Object.assign({},this.person))},methods:{submitForm:function(){this.loadedPerson.name.length&&this.loadedPerson.email.length&&this.loadedPerson.categories.length?(this.loading=!0,1==this.edit?this.updatePerson():this.createPerson()):(this.loadedPerson.name.length||(this.errors.name="A név mező kitöltése kötelező!"),this.loadedPerson.email.length||(this.errors.email="Az email mező kitöltése kötelező!"),this.loadedPerson.categories.length||(this.errors.categories="Minimum 1 kategória megadása kötelező!"))},createPerson:function(){var e=this;x.a.post("".concat("http://localhost:8000/api","/person"),{name:this.loadedPerson.name,email:this.loadedPerson.email,phone_number:this.loadedPerson.phone_number,created_date:this.loadedPerson.created_date,categories:this.getCategoryIds()}).then((function(t){201==t.status&&(e.loading=!1,e.dialogEx=!1,e.loadedPerson.id=t.data.id,e.loadedPerson.created_date=t.data.created_date,e.$emit("addToPeople_",e.loadedPerson),e.loadedPerson={name:"",email:"",phone_number:"",created_date:"",categories:[]})})).catch((function(t){e.loading=!1,"email error"==t.response.data?e.errors.email="Az email cím nem megfelelő!":"email taken"==t.response.data?e.errors.email="Az email cím már foglalt!":"phone number error"==t.response.data?e.errors.phone_number="A telefonszám formátuma nem megfelelő!":(e.loading=!1,alert("Szerver oldali hiba."))}))},updatePerson:function(){var e=this;x.a.put("".concat("http://localhost:8000/api","/person/").concat(this.loadedPerson.id),{name:this.loadedPerson.name,email:this.loadedPerson.email,phone_number:this.loadedPerson.phone_number,categories:this.getCategoryIds()}).then((function(t){200==t.status&&(e.loading=!1,e.dialogEx=!1,e.$emit("updatePerson_",e.loadedPerson),e.loadedPerson={name:"",email:"",phone_number:"",created_date:"",categories:[]})})).catch((function(){e.loading=!1,alert("Szerver oldali hiba.")}))},addCategory:function(){var e=this;this.loadedPerson.categories.forEach((function(t){t.name!=e.nextCategory||(e.errors.categories="Ezt a kategóriát már megadtad!")})),this.errors.categories.length||this.availableCategories.forEach((function(t){if(t.name==e.nextCategory)return e.nextCategory="",e.loadedPerson.categories.push(t),t.id}))},deleteCategory:function(e){this.loadedPerson.categories=this.loadedPerson.categories.filter((function(t){return t!=e}))},getCategorieNames:function(){var e=this;this.availableCategories.forEach((function(t){e.categoryNames.push(t.name)}))},getCategoryIds:function(){var e=[];return this.loadedPerson.categories.forEach((function(t){return e.push(t.id)})),e}}},Q=L,U=(a("0f36"),a("62ad")),W=a("0fd9"),X=a("b974"),Y=Object(i["a"])(Q,R,G,!1,null,"4e78b287",null),Z=Y.exports;c()(Y,{VBtn:V["a"],VCard:E["a"],VCardActions:S["a"],VCardText:S["b"],VCardTitle:S["c"],VCol:U["a"],VDialog:O["a"],VForm:T["a"],VIcon:j["a"],VRow:W["a"],VSelect:X["a"],VSpacer:$["a"],VTextField:N["a"]});var ee={components:{PersonEditor:Z},data:function(){return{loading:!1,page:1,people:[],categories:[],sort:{id:!0,name:!0,email:!0,phone_number:!0,categories:!0,created_date:!0}}},created:function(){this.fetchInfo()},methods:{fetchInfo:function(){var e=this;this.loading=!0,x.a.get("".concat("http://localhost:8000/api","/person")).then((function(t){e.refreshPeople(t.data)})),this.categories=[],x.a.get("".concat("http://localhost:8000/api","/category")).then((function(t){e.categories=t.data,e.loading=!1})).catch((function(e){return alert(e)}))},deletePerson:function(e){var t=this;x.a.delete("".concat("http://localhost:8000/api","/person/").concat(e)).then((function(a){200==a.status&&(t.people=t.people.filter((function(t){return t.id!=e})))})).catch((function(e){return console.log(e)}))},dynamicSort:function(e){this.sort[e]=!this.sort[e];var t=this.sort[e]?1:-1;return function(a,o){var n=a[e]<o[e]?-1:a[e]>o[e]?1:0;return n*t}},reSort:function(e){this.people.sort(this.dynamicSort(e)),this.refreshPeople(this.people)},addToPeople:function(e){this.people.push(e),this.refreshPeople(this.people),console.log(this.people)},updatePerson:function(e){var t=this;this.people.forEach((function(a){if(a.id!=e.id);else for(var o=0,n=Object.entries(e);o<n.length;o++){var r=Object(y["a"])(n[o],2),i=r[0],s=r[1];t.$set(a,i,s)}}))},refreshPeople:function(e){var t=this;this.people=[],e.forEach((function(e){e.page=t.people.length/5,e.page=Math.floor(e.page+1),t.people.push(e)}))}},computed:{countPages:function(){return this.people.length%5==0?this.people.length/5:Math.floor(this.people.length/5)+1}}},te=ee,ae=(a("1022"),a("891e")),oe=Object(i["a"])(te,J,H,!1,null,"32169645",null),ne=oe.exports;c()(oe,{VBtn:V["a"],VContainer:d["a"],VIcon:j["a"],VPagination:ae["a"],VProgressCircular:K["a"],VSimpleTable:B["a"]}),o["a"].use(v["a"]);var re=[{path:"/",name:"Categories",component:D},{path:"/people",name:"People",component:ne}],ie=new v["a"]({routes:re}),se=ie;o["a"].config.productionTip=!1,new o["a"]({vuetify:f,router:se,render:function(e){return e(p)}}).$mount("#app")},"5f98":function(e,t,a){},"85ec":function(e,t,a){},"93a0":function(e,t,a){"use strict";a("5f98")}});
//# sourceMappingURL=app.bf33cb0c.js.map